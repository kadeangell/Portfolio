const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ghostty-web-5oZmqF4g.js","assets/main-CYOG6u95.js","assets/main-CGsREgba.css"])))=>i.map(i=>d[i]);
import{d as b,e as de,r as p,u as be,a as ye,b as ve,w as qe,j as I,_ as Pe,c as Se}from"./main-CYOG6u95.js";function xe(){if(typeof window>"u"||!window.GestureEvent)return 50;try{const t=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(t[1])>=17?120:320}catch{return 320}}function Be(t){return{method:"throttle",timeMs:t}}const L=Be(xe());function De(t){return t===null||Array.isArray(t)&&t.length===0}function $e(t,e,r){if(typeof t=="string")r.set(e,t);else{r.delete(e);for(const s of t)r.append(e,s);r.has(e)||r.set(e,"")}return r}function pe(){const t=new Map;return{on(e,r){const s=t.get(e)||[];return s.push(r),t.set(e,s),()=>this.off(e,r)},off(e,r){const s=t.get(e);s&&t.set(e,s.filter(n=>n!==r))},emit(e,r){t.get(e)?.forEach(s=>s(r))}}}function ie(t,e,r){function s(){t(),r.removeEventListener("abort",i)}const n=setTimeout(s,e);function i(){clearTimeout(n),r.removeEventListener("abort",i)}r.addEventListener("abort",i)}function oe(){const t=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let e=()=>{},r=()=>{};return{promise:new t((s,n)=>{e=s,r=n}),resolve:e,reject:r}}function ke(t,e){let r=e;for(let s=t.length-1;s>=0;s--){const n=t[s];if(!n)continue;const i=r;r=()=>n(i)}r()}function ue(){return new URLSearchParams(location.search)}var me=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=L.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:t,query:e,options:r},s=L.timeMs){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),b("[nuqs gtq] Enqueueing %s=%s %O",t,e,r),this.updateMap.set(t,e),r.history==="push"&&(this.options.history="push"),r.scroll&&(this.options.scroll=!0),r.shallow===!1&&(this.options.shallow=!1),r.startTransition&&this.transitions.add(r.startTransition),(!Number.isFinite(this.timeMs)||s>this.timeMs)&&(this.timeMs=s)}getQueuedQuery(t){return this.updateMap.get(t)}getPendingPromise({getSearchParamsSnapshot:t=ue}){return this.resolvers?.promise??Promise.resolve(t())}flush({getSearchParamsSnapshot:t=ue,rateLimitFactor:e=1,...r},s){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return b("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(t());if(this.resolvers)return this.resolvers.promise;this.resolvers=oe();const n=()=>{this.lastFlushedAt=performance.now();const[u,a]=this.applyPendingUpdates({...r,autoResetQueueOnUpdate:r.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:t},s);a===null?(this.resolvers.resolve(u),this.resetQueueOnNextPush=!0):this.resolvers.reject(u),this.resolvers=null};return ie(()=>{const u=performance.now()-this.lastFlushedAt,a=this.timeMs,h=e*Math.max(0,a-u);b("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",h,a,e),h===0?n():ie(n,h,this.controller.signal)},0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){const t=Array.from(this.updateMap.keys());return b("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=L.timeMs,t}applyPendingUpdates(t,e){const{updateUrl:r,getSearchParamsSnapshot:s}=t;let n=s();if(b("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,n.toString()),this.updateMap.size===0)return[n,null];const i=Array.from(this.updateMap.entries()),u={...this.options},a=Array.from(this.transitions);t.autoResetQueueOnUpdate&&this.reset(),b("[nuqs gtq] Flushing queue %O with options %O",i,u);for(const[h,m]of i)m===null?n.delete(h):n=$e(m,h,n);e&&(n=e(n));try{return ke(a,()=>{r(n,u)}),[n,null]}catch(h){return console.error(de(429),i.map(([m])=>m).join(),h),[n,h]}}};const H=new me;function Oe(t,e,r){const s=p.useCallback(()=>{const i=Object.fromEntries(t.map(u=>[u,r(u)]));return[JSON.stringify(i),i]},[t.join(","),r]),n=p.useRef(null);return n.current===null&&(n.current=s()),p.useSyncExternalStore(p.useCallback(i=>{const u=t.map(a=>e(a,i));return()=>u.forEach(a=>a())},[t.join(","),e]),()=>{const[i,u]=s();return n.current[0]===i?n.current[1]:(n.current=[i,u],u)},()=>n.current[1])}var Ce=class{callback;resolvers=oe();controller=new AbortController;queuedValue=void 0;constructor(t){this.callback=t}abort(){this.controller.abort(),this.queuedValue=void 0}push(t,e){return this.queuedValue=t,this.controller.abort(),this.controller=new AbortController,ie(()=>{const r=this.resolvers;try{b("[nuqs dq] Flushing debounce queue",t);const s=this.callback(t);b("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=oe(),s.then(n=>r.resolve(n)).catch(n=>r.reject(n))}catch(s){this.queuedValue=void 0,r.reject(s)}},e,this.controller.signal),this.resolvers.promise}},Ee=class{throttleQueue;queues=new Map;queuedQuerySync=pe();constructor(t=new me){this.throttleQueue=t}useQueuedQueries(t){return Oe(t,(e,r)=>this.queuedQuerySync.on(e,r),e=>this.getQueuedQuery(e))}push(t,e,r,s){if(!Number.isFinite(e)){const u=r.getSearchParamsSnapshot??ue;return Promise.resolve(u())}const n=t.key;if(!this.queues.has(n)){b("[nuqs dqc] Creating debounce queue for `%s`",n);const u=new Ce(a=>(this.throttleQueue.push(a),this.throttleQueue.flush(r,s).finally(()=>{this.queues.get(a.key)?.queuedValue===void 0&&(b("[nuqs dqc] Cleaning up empty queue for `%s`",a.key),this.queues.delete(a.key)),this.queuedQuerySync.emit(a.key)})));this.queues.set(n,u)}b("[nuqs dqc] Enqueueing debounce update %O",t);const i=this.queues.get(n).push(t,e);return this.queuedQuerySync.emit(n),i}abort(t){const e=this.queues.get(t);return e?(b("[nuqs dqc] Aborting debounce queue %s=%s",t,e.queuedValue?.query),this.queues.delete(t),e.abort(),this.queuedQuerySync.emit(t),r=>(r.then(e.resolvers.resolve,e.resolvers.reject),r)):r=>r}abortAll(){for(const[t,e]of this.queues.entries())b("[nuqs dqc] Aborting debounce queue %s=%s",t,e.queuedValue?.query),e.abort(),e.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(t);this.queues.clear()}getQueuedQuery(t){const e=this.queues.get(t)?.queuedValue?.query;return e!==void 0?e:this.throttleQueue.getQueuedQuery(t)}};const Y=new Ee(H);function je(t,e){return t===e?!0:t===null||e===null||typeof t=="string"||typeof e=="string"||t.length!==e.length?!1:t.every((r,s)=>r===e[s])}function we(t,e,r){try{return t(e)}catch(s){return qe("[nuqs] Error while parsing value `%s`: %O"+(r?" (for key `%s`)":""),e,s,r),null}}function R(t){function e(r){if(typeof r>"u")return null;let s="";if(Array.isArray(r)){if(r[0]===void 0)return null;s=r[0]}return typeof r=="string"&&(s=r),we(t.parse,s)}return{type:"single",eq:(r,s)=>r===s,...t,parseServerSide:e,withDefault(r){return{...this,defaultValue:r,parseServerSide(s){return e(s)??r}}},withOptions(r){return{...this,...r}}}}const Re=R({parse:t=>t,serialize:String});R({parse:t=>{const e=parseInt(t);return e==e?e:null},serialize:t=>""+Math.round(t)});R({parse:t=>{const e=parseInt(t);return e==e?e-1:null},serialize:t=>""+Math.round(t+1)});R({parse:t=>{const e=parseInt(t,16);return e==e?e:null},serialize:t=>{const e=Math.round(t).toString(16);return(e.length&1?"0":"")+e}});R({parse:t=>{const e=parseFloat(t);return e==e?e:null},serialize:String});R({parse:t=>t.toLowerCase()==="true",serialize:String});function ce(t,e){return t.valueOf()===e.valueOf()}R({parse:t=>{const e=parseInt(t);return e==e?new Date(e):null},serialize:t=>""+t.valueOf(),eq:ce});R({parse:t=>{const e=new Date(t);return e.valueOf()==e.valueOf()?e:null},serialize:t=>t.toISOString(),eq:ce});R({parse:t=>{const e=new Date(t.slice(0,10));return e.valueOf()==e.valueOf()?e:null},serialize:t=>t.toISOString().slice(0,10),eq:ce});const X=pe(),_e={};function Ae(t,e={}){const r=p.useId(),s=be(),n=ye(),{history:i="replace",scroll:u=s?.scroll??!1,shallow:a=s?.shallow??!0,throttleMs:h=L.timeMs,limitUrlUpdates:m=s?.limitUrlUpdates,clearOnDefault:P=s?.clearOnDefault??!0,startTransition:S,urlKeys:D=_e}=e,v=Object.keys(t).join(","),q=p.useMemo(()=>Object.fromEntries(Object.keys(t).map(l=>[l,D[l]??l])),[v,JSON.stringify(D)]),E=ve(Object.values(q)),o=E.searchParams,c=p.useRef({}),y=p.useMemo(()=>Object.fromEntries(Object.keys(t).map(l=>[l,t[l].defaultValue??null])),[Object.values(t).map(({defaultValue:l})=>l).join(",")]),$=Y.useQueuedQueries(Object.values(q)),[w,k]=p.useState(()=>Z(t,D,o??new URLSearchParams,$).state),g=p.useRef(w);if(b("[nuq+ %s `%s`] render - state: %O, iSP: %s",r,v,w,o),Object.keys(c.current).join("&")!==Object.values(q).join("&")){const{state:l,hasChanged:f}=Z(t,D,o,$,c.current,g.current);f&&(b("[nuq+ %s `%s`] State changed: %O",r,v,{state:l,initialSearchParams:o,queuedQueries:$,queryRef:c.current,stateRef:g.current}),g.current=l,k(l)),c.current=Object.fromEntries(Object.entries(q).map(([d,x])=>[x,t[d]?.type==="multi"?o?.getAll(x):o?.get(x)??null]))}p.useEffect(()=>{const{state:l,hasChanged:f}=Z(t,D,o,$,c.current,g.current);f&&(b("[nuq+ %s `%s`] State changed: %O",r,v,{state:l,initialSearchParams:o,queuedQueries:$,queryRef:c.current,stateRef:g.current}),g.current=l,k(l))},[Object.values(q).map(l=>`${l}=${o?.getAll(l)}`).join("&"),JSON.stringify($)]),p.useEffect(()=>{const l=Object.keys(t).reduce((f,d)=>(f[d]=({state:x,query:Q})=>{k(F=>{const{defaultValue:A}=t[d],T=q[d],z=x??A??null,_=F[d]??A??null;return Object.is(_,z)?(b("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). no change, skipping, resolved: %O",r,v,T,x,A,g.current),F):(g.current={...g.current,[d]:z},c.current[T]=Q,b("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). updateInternalState, resolved: %O",r,v,T,x,A,g.current),g.current)})},f),{});for(const f of Object.keys(t)){const d=q[f];b("[nuq+ %s `%s`] Subscribing to sync for `%s`",r,d,v),X.on(d,l[f])}return()=>{for(const f of Object.keys(t)){const d=q[f];b("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",r,d,v),X.off(d,l[f])}}},[v,q]);const C=p.useCallback((l,f={})=>{const d=Object.fromEntries(Object.keys(t).map(_=>[_,null])),x=typeof l=="function"?l(fe(g.current,y))??d:l??d;b("[nuq+ %s `%s`] setState: %O",r,v,x);let Q,F=0,A=!1;const T=[];for(let[_,j]of Object.entries(x)){const B=t[_],G=q[_];if(!B||j===void 0)continue;(f.clearOnDefault??B.clearOnDefault??P)&&j!==null&&B.defaultValue!==void 0&&(B.eq??((M,W)=>M===W))(j,B.defaultValue)&&(j=null);const ae=j===null?null:(B.serialize??String)(j);X.emit(G,{state:j,query:ae});const J={key:G,query:ae,options:{history:f.history??B.history??i,shallow:f.shallow??B.shallow??a,scroll:f.scroll??B.scroll??u,startTransition:f.startTransition??B.startTransition??S}};if(f?.limitUrlUpdates?.method==="debounce"||m?.method==="debounce"||B.limitUrlUpdates?.method==="debounce"){J.options.shallow===!0&&console.warn(de(422));const M=f?.limitUrlUpdates?.timeMs??m?.timeMs??B.limitUrlUpdates?.timeMs??L.timeMs,W=Y.push(J,M,E,n);F<M&&(Q=W,F=M)}else{const M=f?.limitUrlUpdates?.timeMs??B?.limitUrlUpdates?.timeMs??m?.timeMs??f.throttleMs??B.throttleMs??h;T.push(Y.abort(G)),H.push(J,M),A=!0}}const z=T.reduce((_,j)=>j(_),A?H.flush(E,n):H.getPendingPromise(E));return Q??z},[v,i,a,u,h,m?.method,m?.timeMs,S,q,E.updateUrl,E.getSearchParamsSnapshot,E.rateLimitFactor,n,y]);return[p.useMemo(()=>fe(w,y),[w,y]),C]}function Z(t,e,r,s,n,i){let u=!1;const a=Object.entries(t).reduce((h,[m,P])=>{const S=e?.[m]??m,D=s[S],v=P.type==="multi"?[]:null,q=D===void 0?(P.type==="multi"?r?.getAll(S):r?.get(S))??v:D;return n&&i&&je(n[S]??v,q)?(h[m]=i[m]??null,h):(u=!0,h[m]=(De(q)?null:we(P.parse,q,S))??null,n&&(n[S]=q),h)},{});if(!u){const h=Object.keys(t),m=Object.keys(i??{});u=h.length!==m.length||h.some(P=>!m.includes(P))}return{state:a,hasChanged:u}}function fe(t,e){return Object.fromEntries(Object.keys(t).map(r=>[r,t[r]??e[r]??null]))}function Me(t,e={}){const{parse:r,type:s,serialize:n,eq:i,defaultValue:u,...a}=e,[{[t]:h},m]=Ae({[t]:{parse:r??(P=>P),type:s,serialize:n,eq:i,defaultValue:u}},a);return[h,p.useCallback((P,S={})=>m(D=>({[t]:typeof P=="function"?P(D[t]):P}),S),[t,m])]}function K(t,e){return{kind:"file",name:t,content:e}}function ee(t,e){const r={};for(const s of e)r[s.name]=s;return{kind:"dir",name:t,children:r}}const he=ee("/",[K("about.txt",`Hello! I'm Kade Angell.
Welcome to my portfolio.
`),K("resume.txt",`Resume placeholder — content coming soon.
`),ee("projects",[K("portfolio.txt",`portfolio — this terminal-based portfolio site.
Built with React, TypeScript, and ghostty-web.
`),K("zaymo.txt",`zaymo — placeholder project description.
`)]),ee("links",[K("github.txt",`https://github.com/kadeangell
`),K("linkedin.txt",`https://linkedin.com/in/kadeangell
`)])]);function le(t,e){if(e==="~"||e==="")return"/";const r=e.startsWith("/")?e.split("/"):[...t.split("/"),...e.split("/")],s=[];for(const n of r)n===""||n==="."||(n===".."?s.pop():s.push(n));return"/"+s.join("/")}function V(t){if(t==="/")return he;const e=t.split("/").filter(Boolean);let r=he;for(const s of e){if(r.kind!=="dir")return;const n=r.children[s];if(!n)return;r=n}return r}function Qe(t){const e=V(t);return!e||e.kind!=="dir"?null:Object.keys(e.children)}function Te(t){const e=V(t);return!e||e.kind!=="file"?null:e.content}function ge(t){const e=V(t);return e!==void 0&&e.kind==="dir"}const O=new Map;O.set("help",(t,e)=>{e.write(`\r
Available commands:\r
`),e.write(`  help     Show this message\r
`),e.write(`  clear    Clear the screen\r
`),e.write(`  echo     Print arguments\r
`),e.write(`  whoami   Display current user\r
`),e.write(`  date     Display current date\r
`),e.write(`  pwd      Print working directory\r
`),e.write(`  ls       List directory contents\r
`),e.write(`  cd       Change directory\r
`),e.write(`  cat      Print file contents\r
`),e.write(`  rainbow  Test color output\r
`)});O.set("clear",(t,e)=>{e.write("\x1B[2J\x1B[H")});O.set("echo",(t,e)=>{e.write(`\r
`+t.join(" "))});O.set("whoami",(t,e)=>{e.write(`\r
guest`)});O.set("date",(t,e)=>{e.write(`\r
`+new Date().toString())});O.set("pwd",(t,e,r)=>{e.write(`\r
`+r.cwd)});O.set("ls",(t,e,r)=>{const s=t[0]?le(r.cwd,t[0]):r.cwd,n=Qe(s);if(!n){e.write(`\r
ls: ${t[0]||s}: No such directory`);return}const i=V(s);if(!i||i.kind!=="dir")return;const u=[];for(const a of n)i.children[a].kind==="dir"?u.push(`\x1B[1;34m${a}/\x1B[0m`):u.push(a);e.write(`\r
`+u.join("  "))});O.set("cd",(t,e,r)=>{const s=t[0];if(!s||s==="~"){r.setCwd("/");return}const n=le(r.cwd,s);if(!ge(n)){e.write(`\r
cd: ${s}: No such directory`);return}r.setCwd(n)});O.set("cat",(t,e,r)=>{if(!t[0]){e.write(`\r
cat: missing file operand`);return}const s=le(r.cwd,t[0]),n=V(s);if(!n){e.write(`\r
cat: ${t[0]}: No such file or directory`);return}if(n.kind==="dir"){e.write(`\r
cat: ${t[0]}: Is a directory`);return}const i=Te(s);i!==null&&e.write(`\r
`+i.replace(/\n/g,`\r
`))});O.set("rainbow",(t,e)=>{const s="\x1B[0m",n=[{code:"31",name:"red"},{code:"33",name:"yellow"},{code:"32",name:"green"},{code:"36",name:"cyan"},{code:"34",name:"blue"},{code:"35",name:"magenta"}];e.write(`\r
`);for(const i of n)e.write(`\x1B[${i.code}m${"█".repeat(8)}${s}`);e.write(`\r
`);for(const i of n)e.write(`\x1B[${i.code}m${i.name.padEnd(8)}${s}`);e.write(`\r
`);for(const i of n)e.write(`\x1B[${i.code};1m${"█".repeat(8)}${s}`);e.write(`\r
`),e.write(`\r
  256-color gradient:\r
  `);for(let i=196;i<=201;i++)e.write(`\x1B[38;5;${i}m██${s}`);for(let i=207;i>=202;i--)e.write(`\x1B[38;5;${i}m██${s}`);e.write(`\r
  `),e.write(`\r
  RGB true color:\r
  `);for(let i=0;i<48;i++){const u=i/48*360,[a,h,m]=Ke(u,100,50);e.write(`\x1B[38;2;${a};${h};${m}m█${s}`)}e.write(`\r
`)});function Ke(t,e,r){e/=100,r/=100;const s=u=>(u+t/30)%12,n=e*Math.min(r,1-r),i=u=>r-n*Math.max(-1,Math.min(s(u)-3,Math.min(9-s(u),1)));return[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)]}function Ue(t){return O.get(t)}class Ne{inputBuffer="";cursorPos=0;writer;inputListeners=new Set;keybinds=new Map;escapeBuffer="";inEscapeSequence=!1;getContext=()=>({cwd:"/",setCwd:()=>{}});constructor(e){this.writer=e}setContextProvider(e){this.getContext=e}printPrompt(){const e=this.getContext(),r=e.cwd==="/"?"~":"~"+e.cwd;this.writer.write(`${r} $ `)}onInput(e){return this.inputListeners.add(e),()=>this.inputListeners.delete(e)}registerKeybind(e,r){return this.keybinds.set(e,r),()=>this.keybinds.delete(e)}handleData(e){for(const r of this.inputListeners)r(e);for(let r=0;r<e.length;r++){const s=e[r],n=s.charCodeAt(0);if(this.inEscapeSequence){if(this.escapeBuffer+=s,this.escapeBuffer==="[")continue;this.escapeBuffer.startsWith("[")&&this.handleEscapeSequence(this.escapeBuffer),this.inEscapeSequence=!1,this.escapeBuffer="";continue}if(n===27){this.inEscapeSequence=!0,this.escapeBuffer="";continue}if(n===3){if(this.checkKeybind("ctrl+c"))continue;this.writer.write(`^C\r
`),this.inputBuffer="",this.cursorPos=0,this.printPrompt();continue}if(n===4){if(this.checkKeybind("ctrl+d"))continue;continue}if(n===12){if(this.checkKeybind("ctrl+l"))continue;this.writer.write("\x1B[2J\x1B[H"),this.printPrompt(),this.writer.write(this.inputBuffer);const i=this.inputBuffer.length-this.cursorPos;i>0&&this.writer.write(`\x1B[${i}D`);continue}if(n===1){if(this.checkKeybind("ctrl+a"))continue;this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0);continue}if(n===5){if(this.checkKeybind("ctrl+e"))continue;if(this.cursorPos<this.inputBuffer.length){const i=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${i}C`),this.cursorPos=this.inputBuffer.length}continue}if(n===23){if(this.checkKeybind("ctrl+w"))continue;if(this.cursorPos>0){let i=this.cursorPos;for(;i>0&&this.inputBuffer[i-1]===" ";)i--;for(;i>0&&this.inputBuffer[i-1]!==" ";)i--;const u=this.cursorPos-i,a=this.inputBuffer.slice(0,i),h=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=a+h,this.writer.write(`\x1B[${u}D`),this.writer.write(h+" ".repeat(u)),this.writer.write(`\x1B[${h.length+u}D`),this.cursorPos=i}continue}if(n===11){if(this.checkKeybind("ctrl+k"))continue;this.cursorPos<this.inputBuffer.length&&(this.inputBuffer=this.inputBuffer.slice(0,this.cursorPos),this.writer.write("\x1B[K"));continue}if(n===21){if(this.checkKeybind("ctrl+u"))continue;if(this.cursorPos>0){this.writer.write(`\x1B[${this.cursorPos}D`),this.writer.write("\x1B[K");const i=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=i,this.cursorPos=0,this.writer.write(i),i.length>0&&this.writer.write(`\x1B[${i.length}D`)}continue}if(n===127||n===8){if(this.cursorPos>0){const i=this.inputBuffer.slice(0,this.cursorPos-1),u=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=i+u,this.cursorPos--,this.writer.write("\b"),this.writer.write(u+" "),this.writer.write(`\x1B[${u.length+1}D`)}continue}if(n===13){this.writer.write(`\r
`);const i=this.inputBuffer.trim();this.inputBuffer="",this.cursorPos=0,i&&this.executeCommand(i),this.printPrompt();continue}if(n===9){if(this.checkKeybind("tab"))continue;continue}if(n>=32){const i=this.inputBuffer.slice(0,this.cursorPos),u=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=i+s+u,this.cursorPos++,this.writer.write(s+u),u.length>0&&this.writer.write(`\x1B[${u.length}D`)}}}handleEscapeSequence(e){switch(e){case"[A":break;case"[B":break;case"[C":this.cursorPos<this.inputBuffer.length&&(this.cursorPos++,this.writer.write("\x1B[C"));break;case"[D":this.cursorPos>0&&(this.cursorPos--,this.writer.write("\x1B[D"));break;case"[H":this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0);break;case"[F":if(this.cursorPos<this.inputBuffer.length){const r=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${r}C`),this.cursorPos=this.inputBuffer.length}break;case"[3~":if(this.cursorPos<this.inputBuffer.length){const r=this.inputBuffer.slice(0,this.cursorPos),s=this.inputBuffer.slice(this.cursorPos+1);this.inputBuffer=r+s,this.writer.write(s+" "),this.writer.write(`\x1B[${s.length+1}D`)}break}}checkKeybind(e){const r=this.keybinds.get(e);return r?(r(),!0):!1}executeCommand(e){const r=e.split(/\s+/),s=r[0],n=r.slice(1),i=Ue(s);i?(i(n,this.writer,this.getContext()),this.writer.write(`\r
`)):this.writer.write(`${s}: command not found\r
`)}}function Fe(t,e){const r={write(s){t.write(s)},onInput(s){return e.onInput(s)},registerKeybind(s,n){return e.registerKeybind(s,n)},clear(){t.write("\x1B[2J\x1B[H")},get cols(){return 80},get rows(){return 24}};return window.__terminal=r,()=>{delete window.__terminal}}const N="\x1B",U=`${N}[0m`,Ie=`${N}[1m`,te=`${N}[2m`,Le=`${N}[32m`,Ve=`${N}[36m`,re=`${N}[37m`,ze=[" _  __          _      ","| |/ /__ _  __| | ___ ","| ' // _` |/ _` |/ _ \\","| . \\ (_| | (_| |  __/","|_|\\_\\__,_|\\__,_|\\___|"];function He(t){t.write(`\r
`);for(const e of ze)t.write(`  ${Ve}${e}${U}\r
`);t.write(`\r
`),t.write(`  ${Ie}${re}kade angell${U}${te} — software engineer${U}\r
`),t.write(`\r
`),t.write(`  ${te}${re}type ${U}${Le}help${U}${te}${re} for available commands${U}\r
`),t.write(`\r
`)}const se="rgb(204,204,204)",ne="rgb(0,0,0)";function Ge(t){return`rgb(${t.fg_r},${t.fg_g},${t.fg_b})`}function Je(t){return`rgb(${t.bg_r},${t.bg_g},${t.bg_b})`}function We({cwd:t,setCwd:e}){const r=p.useRef(null),s=p.useRef(null),[n,i]=p.useState(null),[u,a]=p.useState(!0),h=p.useRef(null),m=p.useRef(null),P=p.useRef(null),S=p.useRef(t),D=p.useRef(e);p.useEffect(()=>{S.current=t},[t]),p.useEffect(()=>{D.current=e},[e]);const v=p.useCallback(()=>{const o=h.current,c=P.current;if(!o||!c)return;const y=c.cols||80,$=c.rows||24,w=o.getCursor(),k=[];for(let g=0;g<$;g++){const C=o.getLine(g),l=[];if(C)for(let f=0;f<y;f++){const d=C[f];if(d){const x=Ge(d),Q=Je(d);l.push({char:d.codepoint?String.fromCodePoint(d.codepoint):" ",fg:x,bg:Q,bold:!!(d.flags&1),italic:!!(d.flags&4),underline:!!(d.flags&8)})}else l.push({char:" ",fg:se,bg:ne,bold:!1,italic:!1,underline:!1})}else for(let f=0;f<y;f++)l.push({char:" ",fg:se,bg:ne,bold:!1,italic:!1,underline:!1});k.push(l)}i({rows:k,cursor:{x:w?.x??0,y:w?.y??0,visible:w?.visible??!0},cols:y,totalRows:$})},[]);p.useEffect(()=>{let o=!1,c;const y=document.createElement("div");y.style.position="absolute",y.style.left="-9999px",y.style.top="-9999px",y.style.width="1px",y.style.height="1px",y.style.overflow="hidden",document.body.appendChild(y);async function $(){const{init:k,Terminal:g}=await Pe(async()=>{const{init:d,Terminal:x}=await import("./ghostty-web-5oZmqF4g.js");return{init:d,Terminal:x}},__vite__mapDeps([0,1,2]));if(await k(),o)return;const C=new g({fontSize:14});C.open(y),P.current=C,h.current=C.wasmTerm;const l={write(d){C.write(d),v()}},f=new Ne(l);return m.current=f,f.setContextProvider(()=>({cwd:S.current,setCwd:d=>D.current(d)})),c=Fe(l,f),He(l),f.printPrompt(),v(),()=>{C.dispose()}}let w;return $().then(k=>{w=k}),()=>{o=!0,w?.(),c?.(),document.body.removeChild(y)}},[v]);function q(o){const c=m.current;c&&(o.key==="Enter"?(o.preventDefault(),c.handleData("\r")):o.key==="Backspace"?(o.preventDefault(),c.handleData("")):o.key==="Tab"?(o.preventDefault(),c.handleData("	")):o.key==="ArrowUp"?(o.preventDefault(),c.handleData("\x1B[A")):o.key==="ArrowDown"?(o.preventDefault(),c.handleData("\x1B[B")):o.key==="ArrowRight"?(o.preventDefault(),c.handleData("\x1B[C")):o.key==="ArrowLeft"?(o.preventDefault(),c.handleData("\x1B[D")):o.key==="Home"?(o.preventDefault(),c.handleData("\x1B[H")):o.key==="End"?(o.preventDefault(),c.handleData("\x1B[F")):o.key==="Delete"?(o.preventDefault(),c.handleData("\x1B[3~")):o.ctrlKey&&o.key==="c"?(o.preventDefault(),c.handleData("")):o.ctrlKey&&o.key==="d"?(o.preventDefault(),c.handleData("")):o.ctrlKey&&o.key==="l"?(o.preventDefault(),c.handleData("\f")):o.ctrlKey&&o.key==="u"?(o.preventDefault(),c.handleData("")):o.ctrlKey&&o.key==="a"?(o.preventDefault(),c.handleData("")):o.ctrlKey&&o.key==="e"?(o.preventDefault(),c.handleData("")):o.ctrlKey&&o.key==="w"?(o.preventDefault(),c.handleData("")):o.ctrlKey&&o.key==="k"?(o.preventDefault(),c.handleData("\v")):o.key.length===1&&!o.ctrlKey&&!o.metaKey&&(o.preventDefault(),c.handleData(o.key)))}function E(){s.current?.focus()}return I.jsxs("div",{ref:r,onClick:E,className:"bg-black text-neutral-300 font-mono text-sm leading-[1.2] p-28 h-screen w-screen box-border overflow-auto cursor-text",children:[n&&n.rows.map((o,c)=>{const y=o.some(w=>w.char!==" "),$=n.cursor.y===c&&n.cursor.visible;return!y&&!$&&c>0?null:I.jsx("div",{className:"whitespace-pre min-h-[1.2em]",children:o.map((w,k)=>{const g=n.cursor.visible&&n.cursor.x===k&&n.cursor.y===c;return I.jsx("span",{className:[w.bold?"font-bold":"",w.italic?"italic":"",w.underline?"underline":"",g&&u?"animate-blink":""].filter(Boolean).join(" ")||void 0,style:{color:w.fg!==se?w.fg:void 0,backgroundColor:g?u?"#d4d4d4":"#555":w.bg!==ne?w.bg:void 0},children:w.char},k)})},c)}),I.jsx("textarea",{ref:s,onKeyDown:q,onFocus:()=>a(!0),onBlur:()=>a(!1),className:"absolute -left-[9999px] -top-[9999px] opacity-0 w-0 h-0 p-0 border-none",autoComplete:"off",spellCheck:!1,autoFocus:!0})]})}function Xe(){const t=Se.c(6);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=Re.withDefault("/"),t[0]=e):e=t[0];const[r,s]=Me("cwd",e);let n;t[1]!==r?(n=ge(r)?r:"/",t[1]=r,t[2]=n):n=t[2];const i=n;let u;return t[3]!==s||t[4]!==i?(u=I.jsx(We,{cwd:i,setCwd:s}),t[3]=s,t[4]=i,t[5]=u):u=t[5],u}export{Xe as component};
