const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ghostty-web-g-sMknlG.js","assets/main-DuVoVGZx.js","assets/main-BCUOr5N_.css"])))=>i.map(i=>d[i]);
import{d as b,e as pe,r as h,u as Be,a as Pe,b as Ce,w as qe,j as R,_ as Se,c as De}from"./main-DuVoVGZx.js";function $e(){if(typeof window>"u"||!window.GestureEvent)return 50;try{const t=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(t[1])>=17?120:320}catch{return 320}}function ke(t){return{method:"throttle",timeMs:t}}const G=ke($e());function Oe(t){return t===null||Array.isArray(t)&&t.length===0}function Ee(t,e,r){if(typeof t=="string")r.set(e,t);else{r.delete(e);for(const n of t)r.append(e,n);r.has(e)||r.set(e,"")}return r}function me(){const t=new Map;return{on(e,r){const n=t.get(e)||[];return n.push(r),t.set(e,n),()=>this.off(e,r)},off(e,r){const n=t.get(e);n&&t.set(e,n.filter(s=>s!==r))},emit(e,r){t.get(e)?.forEach(n=>n(r))}}}function oe(t,e,r){function n(){t(),r.removeEventListener("abort",i)}const s=setTimeout(n,e);function i(){clearTimeout(s),r.removeEventListener("abort",i)}r.addEventListener("abort",i)}function ue(){const t=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let e=()=>{},r=()=>{};return{promise:new t((n,s)=>{e=n,r=s}),resolve:e,reject:r}}function je(t,e){let r=e;for(let n=t.length-1;n>=0;n--){const s=t[n];if(!s)continue;const i=r;r=()=>s(i)}r()}function ce(){return new URLSearchParams(location.search)}var we=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=G.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:t,query:e,options:r},n=G.timeMs){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),b("[nuqs gtq] Enqueueing %s=%s %O",t,e,r),this.updateMap.set(t,e),r.history==="push"&&(this.options.history="push"),r.scroll&&(this.options.scroll=!0),r.shallow===!1&&(this.options.shallow=!1),r.startTransition&&this.transitions.add(r.startTransition),(!Number.isFinite(this.timeMs)||n>this.timeMs)&&(this.timeMs=n)}getQueuedQuery(t){return this.updateMap.get(t)}getPendingPromise({getSearchParamsSnapshot:t=ce}){return this.resolvers?.promise??Promise.resolve(t())}flush({getSearchParamsSnapshot:t=ce,rateLimitFactor:e=1,...r},n){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return b("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(t());if(this.resolvers)return this.resolvers.promise;this.resolvers=ue();const s=()=>{this.lastFlushedAt=performance.now();const[o,a]=this.applyPendingUpdates({...r,autoResetQueueOnUpdate:r.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:t},n);a===null?(this.resolvers.resolve(o),this.resetQueueOnNextPush=!0):this.resolvers.reject(o),this.resolvers=null};return oe(()=>{const o=performance.now()-this.lastFlushedAt,a=this.timeMs,l=e*Math.max(0,a-o);b("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",l,a,e),l===0?s():oe(s,l,this.controller.signal)},0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){const t=Array.from(this.updateMap.keys());return b("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=G.timeMs,t}applyPendingUpdates(t,e){const{updateUrl:r,getSearchParamsSnapshot:n}=t;let s=n();if(b("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,s.toString()),this.updateMap.size===0)return[s,null];const i=Array.from(this.updateMap.entries()),o={...this.options},a=Array.from(this.transitions);t.autoResetQueueOnUpdate&&this.reset(),b("[nuqs gtq] Flushing queue %O with options %O",i,o);for(const[l,f]of i)f===null?s.delete(l):s=Ee(f,l,s);e&&(s=e(s));try{return je(a,()=>{r(s,o)}),[s,null]}catch(l){return console.error(pe(429),i.map(([f])=>f).join(),l),[s,l]}}};const Z=new we;function _e(t,e,r){const n=h.useCallback(()=>{const i=Object.fromEntries(t.map(o=>[o,r(o)]));return[JSON.stringify(i),i]},[t.join(","),r]),s=h.useRef(null);return s.current===null&&(s.current=n()),h.useSyncExternalStore(h.useCallback(i=>{const o=t.map(a=>e(a,i));return()=>o.forEach(a=>a())},[t.join(","),e]),()=>{const[i,o]=n();return s.current[0]===i?s.current[1]:(s.current=[i,o],o)},()=>s.current[1])}var Re=class{callback;resolvers=ue();controller=new AbortController;queuedValue=void 0;constructor(t){this.callback=t}abort(){this.controller.abort(),this.queuedValue=void 0}push(t,e){return this.queuedValue=t,this.controller.abort(),this.controller=new AbortController,oe(()=>{const r=this.resolvers;try{b("[nuqs dq] Flushing debounce queue",t);const n=this.callback(t);b("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=ue(),n.then(s=>r.resolve(s)).catch(s=>r.reject(s))}catch(n){this.queuedValue=void 0,r.reject(n)}},e,this.controller.signal),this.resolvers.promise}},Ae=class{throttleQueue;queues=new Map;queuedQuerySync=me();constructor(t=new we){this.throttleQueue=t}useQueuedQueries(t){return _e(t,(e,r)=>this.queuedQuerySync.on(e,r),e=>this.getQueuedQuery(e))}push(t,e,r,n){if(!Number.isFinite(e)){const o=r.getSearchParamsSnapshot??ce;return Promise.resolve(o())}const s=t.key;if(!this.queues.has(s)){b("[nuqs dqc] Creating debounce queue for `%s`",s);const o=new Re(a=>(this.throttleQueue.push(a),this.throttleQueue.flush(r,n).finally(()=>{this.queues.get(a.key)?.queuedValue===void 0&&(b("[nuqs dqc] Cleaning up empty queue for `%s`",a.key),this.queues.delete(a.key)),this.queuedQuerySync.emit(a.key)})));this.queues.set(s,o)}b("[nuqs dqc] Enqueueing debounce update %O",t);const i=this.queues.get(s).push(t,e);return this.queuedQuerySync.emit(s),i}abort(t){const e=this.queues.get(t);return e?(b("[nuqs dqc] Aborting debounce queue %s=%s",t,e.queuedValue?.query),this.queues.delete(t),e.abort(),this.queuedQuerySync.emit(t),r=>(r.then(e.resolvers.resolve,e.resolvers.reject),r)):r=>r}abortAll(){for(const[t,e]of this.queues.entries())b("[nuqs dqc] Aborting debounce queue %s=%s",t,e.queuedValue?.query),e.abort(),e.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(t);this.queues.clear()}getQueuedQuery(t){const e=this.queues.get(t)?.queuedValue?.query;return e!==void 0?e:this.throttleQueue.getQueuedQuery(t)}};const ee=new Ae(Z);function Me(t,e){return t===e?!0:t===null||e===null||typeof t=="string"||typeof e=="string"||t.length!==e.length?!1:t.every((r,n)=>r===e[n])}function ge(t,e,r){try{return t(e)}catch(n){return qe("[nuqs] Error while parsing value `%s`: %O"+(r?" (for key `%s`)":""),e,n,r),null}}function A(t){function e(r){if(typeof r>"u")return null;let n="";if(Array.isArray(r)){if(r[0]===void 0)return null;n=r[0]}return typeof r=="string"&&(n=r),ge(t.parse,n)}return{type:"single",eq:(r,n)=>r===n,...t,parseServerSide:e,withDefault(r){return{...this,defaultValue:r,parseServerSide(n){return e(n)??r}}},withOptions(r){return{...this,...r}}}}const Ie=A({parse:t=>t,serialize:String});A({parse:t=>{const e=parseInt(t);return e==e?e:null},serialize:t=>""+Math.round(t)});A({parse:t=>{const e=parseInt(t);return e==e?e-1:null},serialize:t=>""+Math.round(t+1)});A({parse:t=>{const e=parseInt(t,16);return e==e?e:null},serialize:t=>{const e=Math.round(t).toString(16);return(e.length&1?"0":"")+e}});A({parse:t=>{const e=parseFloat(t);return e==e?e:null},serialize:String});A({parse:t=>t.toLowerCase()==="true",serialize:String});function le(t,e){return t.valueOf()===e.valueOf()}A({parse:t=>{const e=parseInt(t);return e==e?new Date(e):null},serialize:t=>""+t.valueOf(),eq:le});A({parse:t=>{const e=new Date(t);return e.valueOf()==e.valueOf()?e:null},serialize:t=>t.toISOString(),eq:le});A({parse:t=>{const e=new Date(t.slice(0,10));return e.valueOf()==e.valueOf()?e:null},serialize:t=>t.toISOString().slice(0,10),eq:le});const te=me(),Te={};function Ke(t,e={}){const r=h.useId(),n=Be(),s=Pe(),{history:i="replace",scroll:o=n?.scroll??!1,shallow:a=n?.shallow??!0,throttleMs:l=G.timeMs,limitUrlUpdates:f=n?.limitUrlUpdates,clearOnDefault:v=n?.clearOnDefault??!0,startTransition:x,urlKeys:C=Te}=e,w=Object.keys(t).join(","),g=h.useMemo(()=>Object.fromEntries(Object.keys(t).map(c=>[c,C[c]??c])),[w,JSON.stringify(C)]),_=Ce(Object.values(g)),O=_.searchParams,E=h.useRef({}),T=h.useMemo(()=>Object.fromEntries(Object.keys(t).map(c=>[c,t[c].defaultValue??null])),[Object.values(t).map(({defaultValue:c})=>c).join(",")]),M=ee.useQueuedQueries(Object.values(g)),[U,z]=h.useState(()=>re(t,C,O??new URLSearchParams,M).state),u=h.useRef(U);if(b("[nuq+ %s `%s`] render - state: %O, iSP: %s",r,w,U,O),Object.keys(E.current).join("&")!==Object.values(g).join("&")){const{state:c,hasChanged:p}=re(t,C,O,M,E.current,u.current);p&&(b("[nuq+ %s `%s`] State changed: %O",r,w,{state:c,initialSearchParams:O,queuedQueries:M,queryRef:E.current,stateRef:u.current}),u.current=c,z(c)),E.current=Object.fromEntries(Object.entries(g).map(([y,q])=>[q,t[y]?.type==="multi"?O?.getAll(q):O?.get(q)??null]))}h.useEffect(()=>{const{state:c,hasChanged:p}=re(t,C,O,M,E.current,u.current);p&&(b("[nuq+ %s `%s`] State changed: %O",r,w,{state:c,initialSearchParams:O,queuedQueries:M,queryRef:E.current,stateRef:u.current}),u.current=c,z(c))},[Object.values(g).map(c=>`${c}=${O?.getAll(c)}`).join("&"),JSON.stringify(M)]),h.useEffect(()=>{const c=Object.keys(t).reduce((p,y)=>(p[y]=({state:q,query:N})=>{z(S=>{const{defaultValue:j}=t[y],$=g[y],K=q??j??null,m=S[y]??j??null;return Object.is(m,K)?(b("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). no change, skipping, resolved: %O",r,w,$,q,j,u.current),S):(u.current={...u.current,[y]:K},E.current[$]=N,b("[nuq+ %s `%s`] Cross-hook key sync %s: %O (default: %O). updateInternalState, resolved: %O",r,w,$,q,j,u.current),u.current)})},p),{});for(const p of Object.keys(t)){const y=g[p];b("[nuq+ %s `%s`] Subscribing to sync for `%s`",r,y,w),te.on(y,c[p])}return()=>{for(const p of Object.keys(t)){const y=g[p];b("[nuq+ %s `%s`] Unsubscribing to sync for `%s`",r,y,w),te.off(y,c[p])}}},[w,g]);const d=h.useCallback((c,p={})=>{const y=Object.fromEntries(Object.keys(t).map(m=>[m,null])),q=typeof c=="function"?c(ae(u.current,T))??y:c??y;b("[nuq+ %s `%s`] setState: %O",r,w,q);let N,S=0,j=!1;const $=[];for(let[m,B]of Object.entries(q)){const P=t[m],Y=g[m];if(!P||B===void 0)continue;(p.clearOnDefault??P.clearOnDefault??v)&&B!==null&&P.defaultValue!==void 0&&(P.eq??((D,I)=>D===I))(B,P.defaultValue)&&(B=null);const X=B===null?null:(P.serialize??String)(B);te.emit(Y,{state:B,query:X});const Q={key:Y,query:X,options:{history:p.history??P.history??i,shallow:p.shallow??P.shallow??a,scroll:p.scroll??P.scroll??o,startTransition:p.startTransition??P.startTransition??x}};if(p?.limitUrlUpdates?.method==="debounce"||f?.method==="debounce"||P.limitUrlUpdates?.method==="debounce"){Q.options.shallow===!0&&console.warn(pe(422));const D=p?.limitUrlUpdates?.timeMs??f?.timeMs??P.limitUrlUpdates?.timeMs??G.timeMs,I=ee.push(Q,D,_,s);S<D&&(N=I,S=D)}else{const D=p?.limitUrlUpdates?.timeMs??P?.limitUrlUpdates?.timeMs??f?.timeMs??p.throttleMs??P.throttleMs??l;$.push(ee.abort(Y)),Z.push(Q,D),j=!0}}const K=$.reduce((m,B)=>B(m),j?Z.flush(_,s):Z.getPendingPromise(_));return N??K},[w,i,a,o,l,f?.method,f?.timeMs,x,g,_.updateUrl,_.getSearchParamsSnapshot,_.rateLimitFactor,s,T]);return[h.useMemo(()=>ae(U,T),[U,T]),d]}function re(t,e,r,n,s,i){let o=!1;const a=Object.entries(t).reduce((l,[f,v])=>{const x=e?.[f]??f,C=n[x],w=v.type==="multi"?[]:null,g=C===void 0?(v.type==="multi"?r?.getAll(x):r?.get(x))??w:C;return s&&i&&Me(s[x]??w,g)?(l[f]=i[f]??null,l):(o=!0,l[f]=(Oe(g)?null:ge(v.parse,g,x))??null,s&&(s[x]=g),l)},{});if(!o){const l=Object.keys(t),f=Object.keys(i??{});o=l.length!==f.length||l.some(v=>!f.includes(v))}return{state:a,hasChanged:o}}function ae(t,e){return Object.fromEntries(Object.keys(t).map(r=>[r,t[r]??e[r]??null]))}function Qe(t,e={}){const{parse:r,type:n,serialize:s,eq:i,defaultValue:o,...a}=e,[{[t]:l},f]=Ke({[t]:{parse:r??(v=>v),type:n,serialize:s,eq:i,defaultValue:o}},a);return[l,h.useCallback((v,x={})=>f(C=>({[t]:typeof v=="function"?v(C[t]):v}),x),[t,f])]}function L(t,e){return{kind:"file",name:t,content:e}}function se(t,e){const r={};for(const n of e)r[n.name]=n;return{kind:"dir",name:t,children:r}}const fe=se("/",[L("about.txt",`Hello! I'm Kade Angell.
Welcome to my portfolio.
`),L("resume.txt",`Resume placeholder — content coming soon.
`),se("projects",[L("portfolio.txt",`portfolio — this terminal-based portfolio site.
Built with React, TypeScript, and ghostty-web.
`),L("zaymo.txt",`zaymo — placeholder project description.
`)]),se("links",[L("github.txt",`https://github.com/kadeangell
`),L("linkedin.txt",`https://linkedin.com/in/kadeangell
`)])]);function J(t,e){if(e==="~"||e==="")return"/";const r=e.startsWith("/")?e.split("/"):[...t.split("/"),...e.split("/")],n=[];for(const s of r)s===""||s==="."||(s===".."?n.pop():n.push(s));return"/"+n.join("/")}function V(t){if(t==="/")return fe;const e=t.split("/").filter(Boolean);let r=fe;for(const n of e){if(r.kind!=="dir")return;const s=r.children[n];if(!s)return;r=s}return r}function ye(t){const e=V(t);return!e||e.kind!=="dir"?null:Object.keys(e.children)}function Ue(t){const e=V(t);return!e||e.kind!=="file"?null:e.content}function be(t){const e=V(t);return e!==void 0&&e.kind==="dir"}const k=new Map;k.set("help",(t,e)=>{e.write(`\r
Available commands:\r
`),e.write(`  help     Show this message\r
`),e.write(`  clear    Clear the screen\r
`),e.write(`  echo     Print arguments\r
`),e.write(`  whoami   Display current user\r
`),e.write(`  date     Display current date\r
`),e.write(`  pwd      Print working directory\r
`),e.write(`  ls       List directory contents\r
`),e.write(`  cd       Change directory\r
`),e.write(`  cat      Print file contents\r
`),e.write(`  rainbow  Test color output\r
`)});k.set("clear",(t,e,r)=>{r.clearHistory(),e.write("\x1B[2J\x1B[H")});k.set("echo",(t,e)=>{e.write(`\r
`+t.join(" "))});k.set("whoami",(t,e)=>{e.write(`\r
guest`)});k.set("date",(t,e)=>{e.write(`\r
`+new Date().toString())});k.set("pwd",(t,e,r)=>{e.write(`\r
`+r.cwd)});k.set("ls",(t,e,r)=>{const n=t[0]?J(r.cwd,t[0]):r.cwd,s=ye(n);if(!s){e.write(`\r
ls: ${t[0]||n}: No such directory`);return}const i=V(n);if(!i||i.kind!=="dir")return;const o=[];for(const a of s)i.children[a].kind==="dir"?o.push(`\x1B[1;34m${a}/\x1B[0m`):o.push(a);e.write(`\r
`+o.join("  "))});k.set("cd",(t,e,r)=>{const n=t[0];if(!n||n==="~"){r.setCwd("/");return}const s=J(r.cwd,n);if(!be(s)){e.write(`\r
cd: ${n}: No such directory`);return}r.setCwd(s)});k.set("cat",(t,e,r)=>{if(!t[0]){e.write(`\r
cat: missing file operand`);return}const n=J(r.cwd,t[0]),s=V(n);if(!s){e.write(`\r
cat: ${t[0]}: No such file or directory`);return}if(s.kind==="dir"){e.write(`\r
cat: ${t[0]}: Is a directory`);return}const i=Ue(n);i!==null&&e.write(`\r
`+i.replace(/\n/g,`\r
`))});k.set("rainbow",(t,e)=>{const n="\x1B[0m",s=[{code:"31",name:"red"},{code:"33",name:"yellow"},{code:"32",name:"green"},{code:"36",name:"cyan"},{code:"34",name:"blue"},{code:"35",name:"magenta"}];e.write(`\r
`);for(const i of s)e.write(`\x1B[${i.code}m${"█".repeat(8)}${n}`);e.write(`\r
`);for(const i of s)e.write(`\x1B[${i.code}m${i.name.padEnd(8)}${n}`);e.write(`\r
`);for(const i of s)e.write(`\x1B[${i.code};1m${"█".repeat(8)}${n}`);e.write(`\r
`),e.write(`\r
  256-color gradient:\r
  `);for(let i=196;i<=201;i++)e.write(`\x1B[38;5;${i}m██${n}`);for(let i=207;i>=202;i--)e.write(`\x1B[38;5;${i}m██${n}`);e.write(`\r
  `),e.write(`\r
  RGB true color:\r
  `);for(let i=0;i<48;i++){const o=i/48*360,[a,l,f]=Ne(o,100,50);e.write(`\x1B[38;2;${a};${l};${f}m█${n}`)}e.write(`\r
`)});function Ne(t,e,r){e/=100,r/=100;const n=o=>(o+t/30)%12,s=e*Math.min(r,1-r),i=o=>r-s*Math.max(-1,Math.min(n(o)-3,Math.min(9-n(o),1)));return[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)]}function Le(t){return k.get(t)}function Fe(){return[...k.keys()]}class Ve{inputBuffer="";cursorPos=0;writer;inputListeners=new Set;keybinds=new Map;escapeBuffer="";inEscapeSequence=!1;getContext=()=>({cwd:"/",setCwd:()=>{},clearHistory:()=>{}});onBeforePrompt=()=>{};onInputChange=()=>{};constructor(e){this.writer=e}setContextProvider(e){this.getContext=e}setBeforePromptCallback(e){this.onBeforePrompt=e}setInputChangeCallback(e){this.onInputChange=e}notifyInputChange(){this.onInputChange(this.inputBuffer,this.cursorPos)}printPrompt(){const e=this.getContext(),r=e.cwd==="/"?"~":"~"+e.cwd;this.writer.write(`${r} $ `)}onInput(e){return this.inputListeners.add(e),()=>this.inputListeners.delete(e)}registerKeybind(e,r){return this.keybinds.set(e,r),()=>this.keybinds.delete(e)}handleData(e){for(const r of this.inputListeners)r(e);for(let r=0;r<e.length;r++){const n=e[r],s=n.charCodeAt(0);if(this.inEscapeSequence){if(this.escapeBuffer+=n,this.escapeBuffer==="[")continue;this.escapeBuffer.startsWith("[")&&(this.handleEscapeSequence(this.escapeBuffer),this.notifyInputChange()),this.inEscapeSequence=!1,this.escapeBuffer="";continue}if(s===27){this.inEscapeSequence=!0,this.escapeBuffer="";continue}if(s===3){if(this.checkKeybind("ctrl+c"))continue;this.writer.write(`^C\r
`),this.inputBuffer="",this.cursorPos=0,this.onBeforePrompt(),this.printPrompt(),this.notifyInputChange();continue}if(s===4){if(this.checkKeybind("ctrl+d"))continue;continue}if(s===12){if(this.checkKeybind("ctrl+l"))continue;this.getContext().clearHistory(),this.writer.write("\x1B[2J\x1B[H"),this.printPrompt(),this.writer.write(this.inputBuffer);const i=this.inputBuffer.length-this.cursorPos;i>0&&this.writer.write(`\x1B[${i}D`),this.notifyInputChange();continue}if(s===1){if(this.checkKeybind("ctrl+a"))continue;this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0),this.notifyInputChange();continue}if(s===5){if(this.checkKeybind("ctrl+e"))continue;if(this.cursorPos<this.inputBuffer.length){const i=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${i}C`),this.cursorPos=this.inputBuffer.length}this.notifyInputChange();continue}if(s===23){if(this.checkKeybind("ctrl+w"))continue;if(this.cursorPos>0){let i=this.cursorPos;for(;i>0&&this.inputBuffer[i-1]===" ";)i--;for(;i>0&&this.inputBuffer[i-1]!==" ";)i--;const o=this.cursorPos-i,a=this.inputBuffer.slice(0,i),l=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=a+l,this.writer.write(`\x1B[${o}D`),this.writer.write(l+" ".repeat(o)),this.writer.write(`\x1B[${l.length+o}D`),this.cursorPos=i}this.notifyInputChange();continue}if(s===11){if(this.checkKeybind("ctrl+k"))continue;this.cursorPos<this.inputBuffer.length&&(this.inputBuffer=this.inputBuffer.slice(0,this.cursorPos),this.writer.write("\x1B[K")),this.notifyInputChange();continue}if(s===21){if(this.checkKeybind("ctrl+u"))continue;if(this.cursorPos>0){this.writer.write(`\x1B[${this.cursorPos}D`),this.writer.write("\x1B[K");const i=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=i,this.cursorPos=0,this.writer.write(i),i.length>0&&this.writer.write(`\x1B[${i.length}D`)}this.notifyInputChange();continue}if(s===127||s===8){if(this.cursorPos>0){const i=this.inputBuffer.slice(0,this.cursorPos-1),o=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=i+o,this.cursorPos--,this.writer.write("\b"),this.writer.write(o+" "),this.writer.write(`\x1B[${o.length+1}D`)}this.notifyInputChange();continue}if(s===13){this.writer.write(`\r
`);const i=this.inputBuffer.trim();this.inputBuffer="",this.cursorPos=0,i&&this.executeCommand(i),this.onBeforePrompt(),this.printPrompt(),this.notifyInputChange();continue}if(s===9){if(this.checkKeybind("tab"))continue;this.handleTab();continue}if(s>=32){const i=this.inputBuffer.slice(0,this.cursorPos),o=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=i+n+o,this.cursorPos++,this.writer.write(n+o),o.length>0&&this.writer.write(`\x1B[${o.length}D`),this.notifyInputChange()}}}handleTab(){const r=this.inputBuffer.slice(0,this.cursorPos).split(/\s+/);if(r.length<=1){const s=r[0]||"",i=Fe().filter(o=>o.startsWith(s));this.applyCompletion(s,i,!0)}else{const s=r[r.length-1]||"",i=this.getContext(),o=s.lastIndexOf("/");let a,l;o===-1?(a=i.cwd,l=s):(a=J(i.cwd,s.slice(0,o+1)),l=s.slice(o+1));const f=ye(a);if(!f)return;const v=f.filter(w=>w.startsWith(l)),x=o===-1?"":s.slice(0,o+1),C=v.map(w=>{const g=V(J(i.cwd,x+w));return x+w+(g?.kind==="dir"?"/":"")});this.applyCompletion(s,C,!1)}}applyCompletion(e,r,n){if(r.length===0)return;let s;if(r.length===1)s=r[0]+(n?" ":"");else{s=r[0];for(let l=1;l<r.length;l++){let f=0;for(;f<s.length&&f<r[l].length&&s[f]===r[l][f];)f++;s=s.slice(0,f)}if(s===e){this.writer.write(`\r
`+r.join("  ")+`\r
`),this.onBeforePrompt(),this.printPrompt(),this.writer.write(this.inputBuffer);const l=this.inputBuffer.slice(this.cursorPos);l.length>0&&this.writer.write(`\x1B[${l.length}D`),this.notifyInputChange();return}}const i=s.slice(e.length);if(!i)return;const o=this.inputBuffer.slice(0,this.cursorPos),a=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=o+i+a,this.cursorPos+=i.length,this.writer.write(i+a),a.length>0&&this.writer.write(`\x1B[${a.length}D`),this.notifyInputChange()}handleEscapeSequence(e){switch(e){case"[A":break;case"[B":break;case"[C":this.cursorPos<this.inputBuffer.length&&(this.cursorPos++,this.writer.write("\x1B[C"));break;case"[D":this.cursorPos>0&&(this.cursorPos--,this.writer.write("\x1B[D"));break;case"[H":this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0);break;case"[F":if(this.cursorPos<this.inputBuffer.length){const r=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${r}C`),this.cursorPos=this.inputBuffer.length}break;case"[3~":if(this.cursorPos<this.inputBuffer.length){const r=this.inputBuffer.slice(0,this.cursorPos),n=this.inputBuffer.slice(this.cursorPos+1);this.inputBuffer=r+n,this.writer.write(n+" "),this.writer.write(`\x1B[${n.length+1}D`)}break}}checkKeybind(e){const r=this.keybinds.get(e);return r?(r(),!0):!1}executeCommand(e){const r=e.split(/\s+/),n=r[0],s=r.slice(1),i=Le(n);i?(i(s,this.writer,this.getContext()),this.writer.write(`\r
`)):this.writer.write(`${n}: command not found\r
`)}}function He(t,e){const r={write(n){t.write(n)},onInput(n){return e.onInput(n)},registerKeybind(n,s){return e.registerKeybind(n,s)},clear(){t.write("\x1B[2J\x1B[H")},get cols(){return 80},get rows(){return 24}};return window.__terminal=r,()=>{delete window.__terminal}}const H="\x1B",F=`${H}[0m`,ze=`${H}[1m`,ne=`${H}[2m`,We=`${H}[32m`,Ge=`${H}[36m`,ie=`${H}[37m`,Je=[" _  __          _      ","| |/ /__ _  __| | ___ ","| ' // _` |/ _` |/ _ \\","| . \\ (_| | (_| |  __/","|_|\\_\\__,_|\\__,_|\\___|"];function Ye(t){t.write(`\r
`);for(const e of Je)t.write(`  ${Ge}${e}${F}\r
`);t.write(`\r
`),t.write(`  ${ze}${ie}kade angell${F}${ne} — software engineer${F}\r
`),t.write(`\r
`),t.write(`  ${ne}${ie}type ${F}${We}help${F}${ne}${ie} for available commands${F}\r
`),t.write(`\r
`)}const ve="rgb(204,204,204)",xe="rgb(0,0,0)",he={char:" ",fg:ve,bg:xe,bold:!1,italic:!1,underline:!1};function Xe(t){return`rgb(${t.fg_r},${t.fg_g},${t.fg_b})`}function Ze(t){return`rgb(${t.bg_r},${t.bg_g},${t.bg_b})`}function de(t,e,r){const n=t.getLine(e),s=[];if(n)for(let i=0;i<r;i++){const o=n[i];o?s.push({char:o.codepoint?String.fromCodePoint(o.codepoint):" ",fg:Xe(o),bg:Ze(o),bold:!!(o.flags&1),italic:!!(o.flags&4),underline:!!(o.flags&8)}):s.push(he)}else for(let i=0;i<r;i++)s.push(he);return s}function et(t){return t.some(e=>e.char!==" ")}function tt({cwd:t,setCwd:e}){const r=h.useRef(null),n=h.useRef(null),[s,i]=h.useState([]),[o,a]=h.useState(""),[l,f]=h.useState(0),[v,x]=h.useState(t),[C,w]=h.useState(!0),g=h.useRef(null),_=h.useRef(null),O=h.useRef(null),E=h.useRef(t),T=h.useRef(e);h.useEffect(()=>{E.current=t,x(t)},[t]),h.useEffect(()=>{T.current=e},[e]),h.useEffect(()=>{n.current?.focus()},[]),h.useEffect(()=>{r.current&&(r.current.scrollTop=r.current.scrollHeight)},[s,o]),h.useEffect(()=>{let u=!1,d;const c=document.createElement("div");c.style.position="absolute",c.style.left="-9999px",c.style.top="-9999px",c.style.width="1px",c.style.height="1px",c.style.overflow="hidden",document.body.appendChild(c);async function p(){const{init:q,Terminal:N}=await Se(async()=>{const{init:m,Terminal:B}=await import("./ghostty-web-g-sMknlG.js");return{init:m,Terminal:B}},__vite__mapDeps([0,1,2]));if(await q(),u)return;const S=new N({fontSize:14});S.open(c),O.current=S,g.current=S.wasmTerm;const j={write(m){S.write(m)}},$=new Ve(j);_.current=$;const K=()=>{const m=g.current;if(!m)return;const B=S.cols||80,P=S.rows||24,X=m.getCursor()?.y??0;let Q=-1;for(let D=P-1;D>=0;D--){const I=de(m,D,B);if(et(I)){Q=D;break}}if(Q>=0){const D=Math.max(Q,X-1),I=[];for(let W=0;W<=D;W++)I.push(de(m,W,B));i(W=>[...W,...I])}S.write("\x1B[2J\x1B[H")};return $.setBeforePromptCallback(K),$.setInputChangeCallback((m,B)=>{a(m),f(B)}),$.setContextProvider(()=>({cwd:E.current,setCwd:m=>{E.current=m,x(m),T.current(m)},clearHistory:()=>i([])})),d=He(j,$),Ye(j),K(),$.printPrompt(),()=>{S.dispose()}}let y;return p().then(q=>{y=q}),()=>{u=!0,y?.(),d?.(),document.body.removeChild(c)}},[]);function M(u){const d=_.current;if(!d)return;const c=/mac|iphone|ipad|ipod/i.test(navigator.userAgent);if(c?u.metaKey:u.ctrlKey){const y=new Set(["l","t","w","n","r","q","Tab","shift"]);if(u.shiftKey||y.has(u.key))return}u.metaKey&&c||(u.key==="Enter"?(u.preventDefault(),d.handleData("\r")):u.key==="Backspace"?(u.preventDefault(),d.handleData("")):u.key==="Tab"?(u.preventDefault(),d.handleData("	")):u.key==="ArrowUp"?(u.preventDefault(),d.handleData("\x1B[A")):u.key==="ArrowDown"?(u.preventDefault(),d.handleData("\x1B[B")):u.key==="ArrowRight"?(u.preventDefault(),d.handleData("\x1B[C")):u.key==="ArrowLeft"?(u.preventDefault(),d.handleData("\x1B[D")):u.key==="Home"?(u.preventDefault(),d.handleData("\x1B[H")):u.key==="End"?(u.preventDefault(),d.handleData("\x1B[F")):u.key==="Delete"?(u.preventDefault(),d.handleData("\x1B[3~")):u.ctrlKey&&u.key==="c"?(u.preventDefault(),d.handleData("")):u.ctrlKey&&u.key==="d"?(u.preventDefault(),d.handleData("")):u.ctrlKey&&u.key==="l"?(u.preventDefault(),d.handleData("\f")):u.ctrlKey&&u.key==="u"?(u.preventDefault(),d.handleData("")):u.ctrlKey&&u.key==="a"?(u.preventDefault(),d.handleData("")):u.ctrlKey&&u.key==="e"?(u.preventDefault(),d.handleData("")):u.ctrlKey&&u.key==="w"?(u.preventDefault(),d.handleData("")):u.ctrlKey&&u.key==="k"?(u.preventDefault(),d.handleData("\v")):u.key.length===1&&!u.ctrlKey&&!u.metaKey&&(u.preventDefault(),d.handleData(u.key)))}function U(){n.current?.focus()}const z=v==="/"?"~ $ ":"~"+v+" $ ";return R.jsxs("div",{ref:r,onClick:U,className:"bg-black text-neutral-300 font-mono text-sm leading-[1.2] px-4 py-3 sm:px-[5vw] sm:py-[4vh] md:px-[8vw] md:py-[6vh] lg:px-[12vw] lg:py-[8vh] h-screen w-screen box-border overflow-auto cursor-text",children:[s.map((u,d)=>R.jsx("div",{className:"whitespace-pre min-h-[1.2em]",children:u.map((c,p)=>R.jsx("span",{className:[c.bold?"font-bold":"",c.italic?"italic":"",c.underline?"underline":""].filter(Boolean).join(" ")||void 0,style:{color:c.fg!==ve?c.fg:void 0,backgroundColor:c.bg!==xe?c.bg:void 0},children:c.char},p))},`h${d}`)),R.jsxs("div",{className:"whitespace-pre min-h-[1.2em]",children:[R.jsx("span",{children:z}),R.jsx("span",{children:o.slice(0,l)}),R.jsx("span",{className:C?"animate-blink":void 0,style:{backgroundColor:C?"#d4d4d4":"#555"},children:o[l]??" "}),l<o.length&&R.jsx("span",{children:o.slice(l+1)})]}),R.jsx("textarea",{ref:n,onKeyDown:M,onFocus:()=>w(!0),onBlur:()=>w(!1),className:"absolute -left-[9999px] -top-[9999px] opacity-0 w-0 h-0 p-0 border-none",autoComplete:"off",spellCheck:!1,autoFocus:!0})]})}function st(){const t=De.c(6);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=Ie.withDefault("/"),t[0]=e):e=t[0];const[r,n]=Qe("cwd",e);let s;t[1]!==r?(s=be(r)?r:"/",t[1]=r,t[2]=s):s=t[2];const i=s;let o;return t[3]!==n||t[4]!==i?(o=R.jsx(tt,{cwd:i,setCwd:n}),t[3]=n,t[4]=i,t[5]=o):o=t[5],o}export{st as component};
