const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ghostty-web-BrBCZLoe.js","assets/main-S2jeAGGG.js","assets/main-CGsREgba.css"])))=>i.map(i=>d[i]);
import{r as d,j as k,_ as A,c as M}from"./main-S2jeAGGG.js";const b=new Map;b.set("help",(s,e)=>{e.write(`\r
Available commands:\r
`),e.write(`  help     Show this message\r
`),e.write(`  clear    Clear the screen\r
`),e.write(`  echo     Print arguments\r
`),e.write(`  whoami   Display current user\r
`),e.write(`  date     Display current date\r
`),e.write(`  rainbow  Test color output\r
`)});b.set("clear",(s,e)=>{e.write("\x1B[2J\x1B[H")});b.set("echo",(s,e)=>{e.write(`\r
`+s.join(" "))});b.set("whoami",(s,e)=>{e.write(`\r
guest`)});b.set("date",(s,e)=>{e.write(`\r
`+new Date().toString())});b.set("rainbow",(s,e)=>{const o="\x1B[0m",c=[{code:"31",name:"red"},{code:"33",name:"yellow"},{code:"32",name:"green"},{code:"36",name:"cyan"},{code:"34",name:"blue"},{code:"35",name:"magenta"}];e.write(`\r
`);for(const r of c)e.write(`\x1B[${r.code}m${"█".repeat(8)}${o}`);e.write(`\r
`);for(const r of c)e.write(`\x1B[${r.code}m${r.name.padEnd(8)}${o}`);e.write(`\r
`);for(const r of c)e.write(`\x1B[${r.code};1m${"█".repeat(8)}${o}`);e.write(`\r
`),e.write(`\r
  256-color gradient:\r
  `);for(let r=196;r<=201;r++)e.write(`\x1B[38;5;${r}m██${o}`);for(let r=207;r>=202;r--)e.write(`\x1B[38;5;${r}m██${o}`);e.write(`\r
  `),e.write(`\r
  RGB true color:\r
  `);for(let r=0;r<48;r++){const u=r/48*360,[y,w,P]=L(u,100,50);e.write(`\x1B[38;2;${y};${w};${P}m█${o}`)}e.write(`\r
`)});function L(s,e,i){e/=100,i/=100;const o=u=>(u+s/30)%12,c=e*Math.min(i,1-i),r=u=>i-c*Math.max(-1,Math.min(o(u)-3,Math.min(9-o(u),1)));return[Math.round(r(0)*255),Math.round(r(8)*255),Math.round(r(4)*255)]}function I(s){return b.get(s)}const j="$ ";class F{inputBuffer="";cursorPos=0;writer;inputListeners=new Set;keybinds=new Map;escapeBuffer="";inEscapeSequence=!1;constructor(e){this.writer=e}printPrompt(){this.writer.write(j)}onInput(e){return this.inputListeners.add(e),()=>this.inputListeners.delete(e)}registerKeybind(e,i){return this.keybinds.set(e,i),()=>this.keybinds.delete(e)}handleData(e){for(const i of this.inputListeners)i(e);for(let i=0;i<e.length;i++){const o=e[i],c=o.charCodeAt(0);if(this.inEscapeSequence){if(this.escapeBuffer+=o,this.escapeBuffer==="[")continue;this.escapeBuffer.startsWith("[")&&this.handleEscapeSequence(this.escapeBuffer),this.inEscapeSequence=!1,this.escapeBuffer="";continue}if(c===27){this.inEscapeSequence=!0,this.escapeBuffer="";continue}if(c===3){if(this.checkKeybind("ctrl+c"))continue;this.writer.write(`^C\r
`),this.inputBuffer="",this.cursorPos=0,this.printPrompt();continue}if(c===4){if(this.checkKeybind("ctrl+d"))continue;continue}if(c===12){if(this.checkKeybind("ctrl+l"))continue;this.writer.write("\x1B[2J\x1B[H"),this.printPrompt(),this.writer.write(this.inputBuffer);const r=this.inputBuffer.length-this.cursorPos;r>0&&this.writer.write(`\x1B[${r}D`);continue}if(c===1){if(this.checkKeybind("ctrl+a"))continue;this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0);continue}if(c===5){if(this.checkKeybind("ctrl+e"))continue;if(this.cursorPos<this.inputBuffer.length){const r=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${r}C`),this.cursorPos=this.inputBuffer.length}continue}if(c===23){if(this.checkKeybind("ctrl+w"))continue;if(this.cursorPos>0){let r=this.cursorPos;for(;r>0&&this.inputBuffer[r-1]===" ";)r--;for(;r>0&&this.inputBuffer[r-1]!==" ";)r--;const u=this.cursorPos-r,y=this.inputBuffer.slice(0,r),w=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=y+w,this.writer.write(`\x1B[${u}D`),this.writer.write(w+" ".repeat(u)),this.writer.write(`\x1B[${w.length+u}D`),this.cursorPos=r}continue}if(c===11){if(this.checkKeybind("ctrl+k"))continue;this.cursorPos<this.inputBuffer.length&&(this.inputBuffer=this.inputBuffer.slice(0,this.cursorPos),this.writer.write("\x1B[K"));continue}if(c===21){if(this.checkKeybind("ctrl+u"))continue;if(this.cursorPos>0){this.writer.write(`\x1B[${this.cursorPos}D`),this.writer.write("\x1B[K");const r=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=r,this.cursorPos=0,this.writer.write(r),r.length>0&&this.writer.write(`\x1B[${r.length}D`)}continue}if(c===127||c===8){if(this.cursorPos>0){const r=this.inputBuffer.slice(0,this.cursorPos-1),u=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=r+u,this.cursorPos--,this.writer.write("\b"),this.writer.write(u+" "),this.writer.write(`\x1B[${u.length+1}D`)}continue}if(c===13){this.writer.write(`\r
`);const r=this.inputBuffer.trim();this.inputBuffer="",this.cursorPos=0,r&&this.executeCommand(r),this.printPrompt();continue}if(c===9){if(this.checkKeybind("tab"))continue;continue}if(c>=32){const r=this.inputBuffer.slice(0,this.cursorPos),u=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=r+o+u,this.cursorPos++,this.writer.write(o+u),u.length>0&&this.writer.write(`\x1B[${u.length}D`)}}}handleEscapeSequence(e){switch(e){case"[A":break;case"[B":break;case"[C":this.cursorPos<this.inputBuffer.length&&(this.cursorPos++,this.writer.write("\x1B[C"));break;case"[D":this.cursorPos>0&&(this.cursorPos--,this.writer.write("\x1B[D"));break;case"[H":this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0);break;case"[F":if(this.cursorPos<this.inputBuffer.length){const i=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${i}C`),this.cursorPos=this.inputBuffer.length}break;case"[3~":if(this.cursorPos<this.inputBuffer.length){const i=this.inputBuffer.slice(0,this.cursorPos),o=this.inputBuffer.slice(this.cursorPos+1);this.inputBuffer=i+o,this.writer.write(o+" "),this.writer.write(`\x1B[${o.length+1}D`)}break}}checkKeybind(e){const i=this.keybinds.get(e);return i?(i(),!0):!1}executeCommand(e){const i=e.split(/\s+/),o=i[0],c=i.slice(1),r=I(o);r?(r(c,this.writer),this.writer.write(`\r
`)):this.writer.write(`${o}: command not found\r
`)}}function H(s,e){const i={write(o){s.write(o)},onInput(o){return e.onInput(o)},registerKeybind(o,c){return e.registerKeybind(o,c)},clear(){s.write("\x1B[2J\x1B[H")},get cols(){return 80},get rows(){return 24}};return window.__terminal=i,()=>{delete window.__terminal}}const x="\x1B",D=`${x}[0m`,G=`${x}[1m`,v=`${x}[2m`,q=`${x}[32m`,N=`${x}[36m`,C=`${x}[37m`,O=[" _  __          _      ","| |/ /__ _  __| | ___ ","| ' // _` |/ _` |/ _ \\","| . \\ (_| | (_| |  __/","|_|\\_\\__,_|\\__,_|\\___|"];function W(s){s.write(`\r
`);for(const e of O)s.write(`  ${N}${e}${D}\r
`);s.write(`\r
`),s.write(`  ${G}${C}kade angell${D}${v} — software engineer${D}\r
`),s.write(`\r
`),s.write(`  ${v}${C}type ${D}${q}help${D}${v}${C} for available commands${D}\r
`),s.write(`\r
`)}const E="rgb(204,204,204)",S="rgb(0,0,0)";function J(s){return`rgb(${s.fg_r},${s.fg_g},${s.fg_b})`}function U(s){return`rgb(${s.bg_r},${s.bg_g},${s.bg_b})`}function z(){const s=d.useRef(null),e=d.useRef(null),[i,o]=d.useState(null),[c,r]=d.useState(!0),u=d.useRef(null),y=d.useRef(null),w=d.useRef(null),P=d.useCallback(()=>{const t=u.current,n=w.current;if(!t||!n)return;const f=n.cols||80,$=n.rows||24,a=t.getCursor(),p=[];for(let m=0;m<$;m++){const g=t.getLine(m),B=[];if(g)for(let h=0;h<f;h++){const l=g[h];if(l){const _=J(l),T=U(l);B.push({char:l.codepoint?String.fromCodePoint(l.codepoint):" ",fg:_,bg:T,bold:!!(l.flags&1),italic:!!(l.flags&4),underline:!!(l.flags&8)})}else B.push({char:" ",fg:E,bg:S,bold:!1,italic:!1,underline:!1})}else for(let h=0;h<f;h++)B.push({char:" ",fg:E,bg:S,bold:!1,italic:!1,underline:!1});p.push(B)}o({rows:p,cursor:{x:a?.x??0,y:a?.y??0,visible:a?.visible??!0},cols:f,totalRows:$})},[]);d.useEffect(()=>{let t=!1,n;const f=document.createElement("div");f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.style.width="1px",f.style.height="1px",f.style.overflow="hidden",document.body.appendChild(f);async function $(){const{init:p,Terminal:m}=await A(async()=>{const{init:l,Terminal:_}=await import("./ghostty-web-BrBCZLoe.js");return{init:l,Terminal:_}},__vite__mapDeps([0,1,2]));if(await p(),t)return;const g=new m({fontSize:14});g.open(f),w.current=g,u.current=g.wasmTerm;const B={write(l){g.write(l),P()}},h=new F(B);return y.current=h,n=H(B,h),W(B),h.printPrompt(),P(),()=>{g.dispose()}}let a;return $().then(p=>{a=p}),()=>{t=!0,a?.(),n?.(),document.body.removeChild(f)}},[P]);function K(t){const n=y.current;n&&(t.key==="Enter"?(t.preventDefault(),n.handleData("\r")):t.key==="Backspace"?(t.preventDefault(),n.handleData("")):t.key==="Tab"?(t.preventDefault(),n.handleData("	")):t.key==="ArrowUp"?(t.preventDefault(),n.handleData("\x1B[A")):t.key==="ArrowDown"?(t.preventDefault(),n.handleData("\x1B[B")):t.key==="ArrowRight"?(t.preventDefault(),n.handleData("\x1B[C")):t.key==="ArrowLeft"?(t.preventDefault(),n.handleData("\x1B[D")):t.key==="Home"?(t.preventDefault(),n.handleData("\x1B[H")):t.key==="End"?(t.preventDefault(),n.handleData("\x1B[F")):t.key==="Delete"?(t.preventDefault(),n.handleData("\x1B[3~")):t.ctrlKey&&t.key==="c"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="d"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="l"?(t.preventDefault(),n.handleData("\f")):t.ctrlKey&&t.key==="u"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="a"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="e"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="w"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="k"?(t.preventDefault(),n.handleData("\v")):t.key.length===1&&!t.ctrlKey&&!t.metaKey&&(t.preventDefault(),n.handleData(t.key)))}function R(){e.current?.focus()}return k.jsxs("div",{ref:s,onClick:R,className:"bg-black text-neutral-300 font-mono text-sm leading-[1.2] p-28 h-screen w-screen box-border overflow-auto cursor-text",children:[i&&i.rows.map((t,n)=>{const f=t.some(a=>a.char!==" "),$=i.cursor.y===n&&i.cursor.visible;return!f&&!$&&n>0?null:k.jsx("div",{className:"whitespace-pre min-h-[1.2em]",children:t.map((a,p)=>{const m=i.cursor.visible&&i.cursor.x===p&&i.cursor.y===n;return k.jsx("span",{className:[a.bold?"font-bold":"",a.italic?"italic":"",a.underline?"underline":"",m&&c?"animate-blink":""].filter(Boolean).join(" ")||void 0,style:{color:a.fg!==E?a.fg:void 0,backgroundColor:m?c?"#d4d4d4":"#555":a.bg!==S?a.bg:void 0},children:a.char},p)})},n)}),k.jsx("textarea",{ref:e,onKeyDown:K,onFocus:()=>r(!0),onBlur:()=>r(!1),className:"absolute -left-[9999px] -top-[9999px] opacity-0 w-0 h-0 p-0 border-none",autoComplete:"off",spellCheck:!1,autoFocus:!0})]})}function Y(){const s=M.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=k.jsx(z,{}),s[0]=e):e=s[0],e}export{Y as component};
