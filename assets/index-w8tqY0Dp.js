const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ghostty-web-B3qySvZa.js","assets/main-CItbX_R2.js","assets/main-CMymDmK7.css"])))=>i.map(i=>d[i]);
var M=Object.defineProperty;var L=(s,e,i)=>e in s?M(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;var b=(s,e,i)=>L(s,typeof e!="symbol"?e+"":e,i);import{r as d,j as _,_ as j,c as F}from"./main-CItbX_R2.js";const y=new Map;y.set("help",(s,e)=>{e.write(`\r
Available commands:\r
`),e.write(`  help     Show this message\r
`),e.write(`  clear    Clear the screen\r
`),e.write(`  echo     Print arguments\r
`),e.write(`  whoami   Display current user\r
`),e.write(`  date     Display current date\r
`),e.write(`  rainbow  Test color output\r
`)});y.set("clear",(s,e)=>{e.write("\x1B[2J\x1B[H")});y.set("echo",(s,e)=>{e.write(`\r
`+s.join(" "))});y.set("whoami",(s,e)=>{e.write(`\r
guest`)});y.set("date",(s,e)=>{e.write(`\r
`+new Date().toString())});y.set("rainbow",(s,e)=>{const o="\x1B[0m",c=[{code:"31",name:"red"},{code:"33",name:"yellow"},{code:"32",name:"green"},{code:"36",name:"cyan"},{code:"34",name:"blue"},{code:"35",name:"magenta"}];e.write(`\r
`);for(const r of c)e.write(`\x1B[${r.code}m${"█".repeat(8)}${o}`);e.write(`\r
`);for(const r of c)e.write(`\x1B[${r.code}m${r.name.padEnd(8)}${o}`);e.write(`\r
`);for(const r of c)e.write(`\x1B[${r.code};1m${"█".repeat(8)}${o}`);e.write(`\r
`),e.write(`\r
  256-color gradient:\r
  `);for(let r=196;r<=201;r++)e.write(`\x1B[38;5;${r}m██${o}`);for(let r=207;r>=202;r--)e.write(`\x1B[38;5;${r}m██${o}`);e.write(`\r
  `),e.write(`\r
  RGB true color:\r
  `);for(let r=0;r<48;r++){const a=r/48*360,[$,w,k]=H(a,100,50);e.write(`\x1B[38;2;${$};${w};${k}m█${o}`)}e.write(`\r
`)});function H(s,e,i){e/=100,i/=100;const o=a=>(a+s/30)%12,c=e*Math.min(i,1-i),r=a=>i-c*Math.max(-1,Math.min(o(a)-3,Math.min(9-o(a),1)));return[Math.round(r(0)*255),Math.round(r(8)*255),Math.round(r(4)*255)]}function I(s){return y.get(s)}const G="$ ";class q{constructor(e){b(this,"inputBuffer","");b(this,"cursorPos",0);b(this,"writer");b(this,"inputListeners",new Set);b(this,"keybinds",new Map);b(this,"escapeBuffer","");b(this,"inEscapeSequence",!1);this.writer=e}printPrompt(){this.writer.write(G)}onInput(e){return this.inputListeners.add(e),()=>this.inputListeners.delete(e)}registerKeybind(e,i){return this.keybinds.set(e,i),()=>this.keybinds.delete(e)}handleData(e){for(const i of this.inputListeners)i(e);for(let i=0;i<e.length;i++){const o=e[i],c=o.charCodeAt(0);if(this.inEscapeSequence){if(this.escapeBuffer+=o,this.escapeBuffer==="[")continue;this.escapeBuffer.startsWith("[")&&this.handleEscapeSequence(this.escapeBuffer),this.inEscapeSequence=!1,this.escapeBuffer="";continue}if(c===27){this.inEscapeSequence=!0,this.escapeBuffer="";continue}if(c===3){if(this.checkKeybind("ctrl+c"))continue;this.writer.write(`^C\r
`),this.inputBuffer="",this.cursorPos=0,this.printPrompt();continue}if(c===4){if(this.checkKeybind("ctrl+d"))continue;continue}if(c===12){if(this.checkKeybind("ctrl+l"))continue;this.writer.write("\x1B[2J\x1B[H"),this.printPrompt(),this.writer.write(this.inputBuffer);const r=this.inputBuffer.length-this.cursorPos;r>0&&this.writer.write(`\x1B[${r}D`);continue}if(c===1){if(this.checkKeybind("ctrl+a"))continue;this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0);continue}if(c===5){if(this.checkKeybind("ctrl+e"))continue;if(this.cursorPos<this.inputBuffer.length){const r=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${r}C`),this.cursorPos=this.inputBuffer.length}continue}if(c===23){if(this.checkKeybind("ctrl+w"))continue;if(this.cursorPos>0){let r=this.cursorPos;for(;r>0&&this.inputBuffer[r-1]===" ";)r--;for(;r>0&&this.inputBuffer[r-1]!==" ";)r--;const a=this.cursorPos-r,$=this.inputBuffer.slice(0,r),w=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=$+w,this.writer.write(`\x1B[${a}D`),this.writer.write(w+" ".repeat(a)),this.writer.write(`\x1B[${w.length+a}D`),this.cursorPos=r}continue}if(c===11){if(this.checkKeybind("ctrl+k"))continue;this.cursorPos<this.inputBuffer.length&&(this.inputBuffer=this.inputBuffer.slice(0,this.cursorPos),this.writer.write("\x1B[K"));continue}if(c===21){if(this.checkKeybind("ctrl+u"))continue;if(this.cursorPos>0){this.writer.write(`\x1B[${this.cursorPos}D`),this.writer.write("\x1B[K");const r=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=r,this.cursorPos=0,this.writer.write(r),r.length>0&&this.writer.write(`\x1B[${r.length}D`)}continue}if(c===127||c===8){if(this.cursorPos>0){const r=this.inputBuffer.slice(0,this.cursorPos-1),a=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=r+a,this.cursorPos--,this.writer.write("\b"),this.writer.write(a+" "),this.writer.write(`\x1B[${a.length+1}D`)}continue}if(c===13){this.writer.write(`\r
`);const r=this.inputBuffer.trim();this.inputBuffer="",this.cursorPos=0,r&&this.executeCommand(r),this.printPrompt();continue}if(c===9){if(this.checkKeybind("tab"))continue;continue}if(c>=32){const r=this.inputBuffer.slice(0,this.cursorPos),a=this.inputBuffer.slice(this.cursorPos);this.inputBuffer=r+o+a,this.cursorPos++,this.writer.write(o+a),a.length>0&&this.writer.write(`\x1B[${a.length}D`)}}}handleEscapeSequence(e){switch(e){case"[A":break;case"[B":break;case"[C":this.cursorPos<this.inputBuffer.length&&(this.cursorPos++,this.writer.write("\x1B[C"));break;case"[D":this.cursorPos>0&&(this.cursorPos--,this.writer.write("\x1B[D"));break;case"[H":this.cursorPos>0&&(this.writer.write(`\x1B[${this.cursorPos}D`),this.cursorPos=0);break;case"[F":if(this.cursorPos<this.inputBuffer.length){const i=this.inputBuffer.length-this.cursorPos;this.writer.write(`\x1B[${i}C`),this.cursorPos=this.inputBuffer.length}break;case"[3~":if(this.cursorPos<this.inputBuffer.length){const i=this.inputBuffer.slice(0,this.cursorPos),o=this.inputBuffer.slice(this.cursorPos+1);this.inputBuffer=i+o,this.writer.write(o+" "),this.writer.write(`\x1B[${o.length+1}D`)}break}}checkKeybind(e){const i=this.keybinds.get(e);return i?(i(),!0):!1}executeCommand(e){const i=e.split(/\s+/),o=i[0],c=i.slice(1),r=I(o);r?(r(c,this.writer),this.writer.write(`\r
`)):this.writer.write(`${o}: command not found\r
`)}}function N(s,e){const i={write(o){s.write(o)},onInput(o){return e.onInput(o)},registerKeybind(o,c){return e.registerKeybind(o,c)},clear(){s.write("\x1B[2J\x1B[H")},get cols(){return 80},get rows(){return 24}};return window.__terminal=i,()=>{delete window.__terminal}}const P="\x1B",x=`${P}[0m`,O=`${P}[1m`,E=`${P}[2m`,J=`${P}[32m`,U=`${P}[36m`,C=`${P}[37m`,W=[" _  __          _      ","| |/ /__ _  __| | ___ ","| ' // _` |/ _` |/ _ \\","| . \\ (_| | (_| |  __/","|_|\\_\\__,_|\\__,_|\\___|"];function z(s){s.write(`\r
`);for(const e of W)s.write(`  ${U}${e}${x}\r
`);s.write(`\r
`),s.write(`  ${O}${C}kade angell${x}${E} — software engineer${x}\r
`),s.write(`\r
`),s.write(`  ${E}${C}type ${x}${J}help${x}${E}${C} for available commands${x}\r
`),s.write(`\r
`)}const S="rgb(204,204,204)",K="rgb(0,0,0)";function V(s){return`rgb(${s.fg_r},${s.fg_g},${s.fg_b})`}function Y(s){return`rgb(${s.bg_r},${s.bg_g},${s.bg_b})`}function Q(){const s=d.useRef(null),e=d.useRef(null),[i,o]=d.useState(null),[c,r]=d.useState(!0),a=d.useRef(null),$=d.useRef(null),w=d.useRef(null),k=d.useCallback(()=>{const t=a.current,n=w.current;if(!t||!n)return;const f=n.cols||80,D=n.rows||24,u=t.getCursor(),p=[];for(let m=0;m<D;m++){const g=t.getLine(m),B=[];if(g)for(let h=0;h<f;h++){const l=g[h];if(l){const v=V(l),A=Y(l);B.push({char:l.codepoint?String.fromCodePoint(l.codepoint):" ",fg:v,bg:A,bold:!!(l.flags&1),italic:!!(l.flags&4),underline:!!(l.flags&8)})}else B.push({char:" ",fg:S,bg:K,bold:!1,italic:!1,underline:!1})}else for(let h=0;h<f;h++)B.push({char:" ",fg:S,bg:K,bold:!1,italic:!1,underline:!1});p.push(B)}o({rows:p,cursor:{x:(u==null?void 0:u.x)??0,y:(u==null?void 0:u.y)??0,visible:(u==null?void 0:u.visible)??!0},cols:f,totalRows:D})},[]);d.useEffect(()=>{let t=!1,n;const f=document.createElement("div");f.style.position="absolute",f.style.left="-9999px",f.style.top="-9999px",f.style.width="1px",f.style.height="1px",f.style.overflow="hidden",document.body.appendChild(f);async function D(){const{init:p,Terminal:m}=await j(async()=>{const{init:l,Terminal:v}=await import("./ghostty-web-B3qySvZa.js");return{init:l,Terminal:v}},__vite__mapDeps([0,1,2]));if(await p(),t)return;const g=new m({fontSize:14});g.open(f),w.current=g,a.current=g.wasmTerm;const B={write(l){g.write(l),k()}},h=new q(B);return $.current=h,n=N(B,h),z(B),h.printPrompt(),k(),()=>{g.dispose()}}let u;return D().then(p=>{u=p}),()=>{t=!0,u==null||u(),n==null||n(),document.body.removeChild(f)}},[k]);function R(t){const n=$.current;n&&(t.key==="Enter"?(t.preventDefault(),n.handleData("\r")):t.key==="Backspace"?(t.preventDefault(),n.handleData("")):t.key==="Tab"?(t.preventDefault(),n.handleData("	")):t.key==="ArrowUp"?(t.preventDefault(),n.handleData("\x1B[A")):t.key==="ArrowDown"?(t.preventDefault(),n.handleData("\x1B[B")):t.key==="ArrowRight"?(t.preventDefault(),n.handleData("\x1B[C")):t.key==="ArrowLeft"?(t.preventDefault(),n.handleData("\x1B[D")):t.key==="Home"?(t.preventDefault(),n.handleData("\x1B[H")):t.key==="End"?(t.preventDefault(),n.handleData("\x1B[F")):t.key==="Delete"?(t.preventDefault(),n.handleData("\x1B[3~")):t.ctrlKey&&t.key==="c"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="d"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="l"?(t.preventDefault(),n.handleData("\f")):t.ctrlKey&&t.key==="u"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="a"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="e"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="w"?(t.preventDefault(),n.handleData("")):t.ctrlKey&&t.key==="k"?(t.preventDefault(),n.handleData("\v")):t.key.length===1&&!t.ctrlKey&&!t.metaKey&&(t.preventDefault(),n.handleData(t.key)))}function T(){var t;(t=e.current)==null||t.focus()}return _.jsxs("div",{ref:s,onClick:T,className:"bg-black text-neutral-300 font-mono text-sm leading-[1.2] p-28 h-screen w-screen box-border overflow-auto cursor-text",children:[i&&i.rows.map((t,n)=>{const f=t.some(u=>u.char!==" "),D=i.cursor.y===n&&i.cursor.visible;return!f&&!D&&n>0?null:_.jsx("div",{className:"whitespace-pre min-h-[1.2em]",children:t.map((u,p)=>{const m=i.cursor.visible&&i.cursor.x===p&&i.cursor.y===n;return _.jsx("span",{className:[u.bold?"font-bold":"",u.italic?"italic":"",u.underline?"underline":"",m&&c?"animate-blink":""].filter(Boolean).join(" ")||void 0,style:{color:u.fg!==S?u.fg:void 0,backgroundColor:m?c?"#d4d4d4":"#555":u.bg!==K?u.bg:void 0},children:u.char},p)})},n)}),_.jsx("textarea",{ref:e,onKeyDown:R,onFocus:()=>r(!0),onBlur:()=>r(!1),className:"absolute -left-[9999px] -top-[9999px] opacity-0 w-0 h-0 p-0 border-none",autoComplete:"off",spellCheck:!1,autoFocus:!0})]})}function ee(){const s=F.c(1);let e;return s[0]===Symbol.for("react.memo_cache_sentinel")?(e=_.jsx(Q,{}),s[0]=e):e=s[0],e}export{ee as component};
